# AHC041

## 概要
- グリッド上に鬼と福がいる
- ベルトコンベアみたいに鬼だけ落とす
- 今回のビジュアライザ良いな
  - 手動でプレイできる

## 最初の方針
- 何手かかってもゲームをクリアする
- n = 20
  - 最大手数4n^2 = 1600
- ビームサーチ・chokudaiサーチ
- 全手の場合の数
  - 80^1600
- 評価関数
  - 各鬼に対し、福がいない落ちるまでの道の最短経路のマス数
    - これは後からでもできそう
    - これの2乗の逆数
  - 落とした鬼の数*10**4
  - 計算量を増やしたい
    - 生成AIで言語変換
    - C++などに変換しやすいコードを書く
      - 配列とかに気をつける

## 01の方針
- まずは基本の貪欲法
### 評価関数
- 落とした福の数*(-10^9)
- 落とした鬼の数*(10^5)
- 各鬼に対し、福がいない落ちるまでの道の最短経路のマス数の2乗の逆数

## 01提出
- RE1件
- OpenAI o3-miniでc++に変換したコードで再提出

## 01提出(2回目)
- 563位
- 38位
提出前スコア: 0 (未提出)
提出前順位: 563位
スコア: 460,749
順位: 38位

## 01を踏まえて
- 素晴らしい
- 次はchokudaiサーチに挑む

## 01のバグ修正
- 手元のサンプルケース総当りでエラーが出るのを待つ
- 生成AIにスクリプト作ってもらう
### プロンプト
```
以下のようなshellスクリプトを作成してください。

- `python3でa01.py`を実行
- 標準入力をin/xxxx.txtから読み込む
  - xxxxには0000から0999までの数が入る
- 標準エラー出力があれば、それをerror_log.txtに書き足す
- eoor_log.txtの1一番下で改行し、"=========="と書き込み、区切りを示す
```
- この作業はshellスクリプトに任せ、02に取り掛かる
- その前に01の距離の2乗を3乗や4乗にする
### 結果
- エラーはなかった
- 困る

## 01提出(2回目　3乗)
提出前スコア: 460,749
提出前順位: 101位
スコア: 461,941
順位: 89位

## 01を踏まえて(2回目)
- ええやん
- 4乗も試そう
  - 得点は微増すると思う

## 01提出(3回目　4乗)
提出前スコア: 461,941
提出前順位: 93位
スコア: 461,847
順位: 93位

## 01を踏まえて(3回目)
- 微妙に減った
- 誤差かもしれないが、3乗を採用

## 02の方針
- a01は貪欲法だったが、chokudaiサーチに変える
- 時間管理がしやすく、実装経験も1度だけある
- 配列を工夫しないとC++への変換がうまく行かないかも
- chokudaiサーチの配列とは別に、最後まで行ったans_listのうち、最も短いものを残す
- まずは深さごとに分ける
- 一度x回の操作での答えがわかったら、x回目以降の探索は無意味
- 0001では、貪欲法の01のほうが得点が高い
  - 1本目のビームは貪欲法と変わらないはず
  - 単純に、2乗か3乗かの違いだった
  - 2乗のほうが良いときもあるのか
- C++に変換することで、計算量の増加が見込める

## 02提出(1回目 Python)
- 2秒フルで使うのを150回なので、採点に5分かかる
- 今のうちにC++のコードを準備しておく
  - 変換手段は01と同じ
提出前スコア: 461,941
提出前順位: 201位
スコア: 461,941
順位: 211位

## 02を踏まえて(1回目)
- 全く変化がない
- C++で計算量を増やし、変わるか確認する

## 02提出(2回目 C++)
- 待ち時間に次の方針を練る
提出前スコア: 461,941
提出前順位: 219位
スコア: 461,999
順位: 227位  (見逃しており、4分ほど後の順位)

## 02を踏まえて(2回目)
- 終わるのが早い
- 時間いっぱいまで探索できていない
- 1本ビームを打ったら終わるような処理がなされていた
  - だとしたら、なぜ得点は微増したのか
- コメントアウトして再提出

## 02提出(3回目 C++)
- 待ち時間に次の方針を練る
提出前スコア: 461,999
提出前順位: 256位
スコア: 461,999
順位: 266位

## 02を踏まえて(3回目)
- 得点は変わらない
- 余計に意味がわからない

## 03の方針
- 1位は平均75手くらい
- 自分は平均120手
  - 02の2回目時点での話
- 複数の鬼をまとめて運べたら効率が良い
### 評価関数
- 基本は以前と同じ

## 振り返り
- 1位解方は操作列の焼きなましらしい
- やはりビームサーチが多い