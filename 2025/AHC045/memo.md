# AHC045

## 概要
- 都市群をグループに分けて、そのグループの中で連結になるような辺を敷く

## 最初の方針
- 距離が最小になる集団の分け方がわからん
- 長方形の中心を都市の位置とする
- 集合Cに対して、Cのいずれかの要素との距離が最も近い都市を新たにCに加える
- 各都市について、すべての都市をその都市との距離で昇順にソートしたリストを予め用意しておく
  - O(N^2)、N=800なので問題なさそう
- 都市の大きさ順にやるのも良さそう(ToDo)
- 集合内の辺は占い
- Cの最初の頂点の選び方をどうするか
- まずは番号順

## 01の方針
- 上の通り
- 占いできる都市の数に上限があるらしい
- 上限が来たら一度そこで区切る

### テストケース実行スクリプト
以下の要件を満たすshellスクリプトを作成してください。

- 以下のコマンドについて、xxxxを0000から0099まで繰り返して実行する。
```
cargo run -r --bin tester python3 ../a01.py < in/xxxx.txt > ../out/out_xxxx.txt
```

## 01提出
- 提出前の相対スコア: 0(未提出)
- 提出前順位: 590位(未提出)
- 提出日時: 2025-03-29 21:25:42
- 絶対スコア: 14100853
- 相対スコア: 33,288,065,037
- 順位: 76位

## 01を踏まえて
- 想定よりいい順位
- 都市の大きさ順でも取り組む

## 02の方針
- 基本は01
- グループを構成する順番をグループの大きさにする

## 02提出
- 提出前の相対スコア: 33,283,980,986
- 提出前順位: 78位
- 提出日時: 2025-03-29 21:57:19
- 絶対スコア: 13309535
- 相対スコア: 35,545,461,217
- 順位: 48位

## 02を踏まえて
- かなり順位が上がった。

## これからの方針
- 最後の方の頂点感の距離が長い
- 山登りかなんかで入れ替えられないかな
- 2点間の入れ替え2回の総当り
  - 800**2 = 640000
### グループの始点を変える
- 原点から最も遠い点を始点とする

## 03の方針
- 基本は02
- 原点から最も遠い点を始点とする
- なんか問題なくいけそう

## 03提出
- 提出前の相対スコア: 35,402,330,933
- 提出前順位: 67位
- 提出日時: 2025-03-30 11:32:46
- 絶対スコア: 13192944
- 相対スコア: 35,591,422,568
- 順位: 64位

## 03を踏まえて
- 若干の改善が見られた
- やはり頂点を山登りなどで入れ替えられないか

## 04の方針
- 頂点の入れ替え
- 一通り占いが終わったあと、すべての辺の長さを計算
- 最も長いものから順に、頂点の交換を行う
- 辺の2点を、それぞれ1つと入れ替える
  - もとの点を除外して、798*2=1596通り
- 10回くらいできるかな
  - まずは1回
  - 05とかで複数回
- 1組だけなので効果は限定的だろうが、とりあえず提出

## 04提出
- 提出前の相対スコア: 33,685,391,441
- 提出前順位: 119位
- 提出日時: 2025-03-31 16:47:13
- 絶対スコア: 13241703
- 相対スコア: 33,578,230,222
- 順位: 120位

## 04を踏まえて
- 若干スコアが落ちた
- 占いによる最適化を崩したからだろう
- 時間ギリギリまでやる

## 05の方針
- 04でやったことを、時間ギリギリまで繰り返す
  - 
- 522msだったので、十数回は繰り返せそう
  - 足りない場合はC++などに変換
- なんか悪くなっている
- この方針は一旦凍結

## これからの方針
- すべてのグループで並列に加盟都市を伸ばしていく
- 初点から近い順に取る
- 原点からの距離だったのを中心からの距離にしてもいいかも

## 03再提出
- 最もスコアが良かったため
- 提出前の相対スコア:  32,021,504,191
- 提出前順位: 226位
- 提出日時: 2025-04-03 17:09:27
- 絶対スコア: 13192944
- 相対スコア: 32,122,766,414 
- 順位: 225位

## 06の方針
- 基本は03
- 原点からの距離の代わりに中心からの距離を採用
- よくなさそう

## 07の方針
- 基本は06
- 中心からの距離が近い順に変更
- これもまた、よくなさそう

## これからの方針
- 盤面を10x10などに分割し、往復なり螺旋なりでつなげる
- 誤差も考えると、5x5くらいのほうが良いだろうか
  - その場合、都市がないマスがある確率は0.0002025%
  - 2000個のテストケースにその盤面が含まれていない確率は99.5958186%
  - このケースを考える必要はなさそう
- 良いアプローチではなさそう

**仕切り直し**
- 