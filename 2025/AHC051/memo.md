# AHC051

## 最初のメモ
- まず予定地で木を作って、あとから分別器や処理装置を入れる
- 木でなくても、一方通行のグラフならいい
- その後は焼きなましかな
- この2段階

## 01の方針
- 入力をすべて受け取り、搬入口から直接処理装置0へ運ぶ

## 01提出
- 提出前の相対スコア: 0(未提出)
- 提出前順位: 287/325位(未提出)
- 提出日時: 2025-08-02 09:43:32
- 絶対スコア: 45213628817
- 相対スコア: 23,123,816,477
- 順位: 221/326

## 01を踏まえて
- まあ最初はこんなもん
- 次は分別機をフルで置いていい感じのグラフを作りたい
- 流石にフルはまだ先
### いい感じのグラフとは?
- すべての処理装置にアクセスがある
- まずはそれだけでいいかな

## 02の方針
- 基本は01
- 分別機をN-1個用意し、分別機iは処理装置iと分別機i+1につなぐ
- 分別機N-2は処理装置N-2と処理装置N-1につなぐ
- 重なる辺が出なくなるまで分別機の座標をランダムにN-1個選び続ける
- 重ならない辺の組が見つからない
- やり直しかな

## 仕切り直し
- なにか簡単なグラフをまず作りたい
- それかAIに作らせるか
  - できるかは不明

# 03の方針
- 基本は01
- AIに条件を満たすグラフを作るプログラムを作ってもらう
- できなかった
- 頂点をすべて使うのは諦める
- 無理
- AHC036か何かで1本の経路を作ってたっけ
- あれ使えないかな
- 今回は終点が決まっているからそのままはできない
- AIの解法を見て、両方の搬出口が同じであってもいいことに気づいた
- この前知ったドロネー三角形分割とか使えないかな

## 04の方針
- 基本は02
- まずは02が終わらない原因を確かめる
- N個だと厳しそうなので、少ない数を指定する
  - 2とか3とか
- 交差判定が怪しい
- 7は一瞬で8は終わらない
- 最適なXを探したい
- Pythonだと5かな

## 04提出(1回目)
- 提出前の相対スコア: 7,383,075,136
- 提出前順位: 603/828
- 提出日時: 2025-08-06 17:20:59
- 絶対スコア: 0(WA)
- 相対スコア: 6,419,942,133
- 順位: 697/828

## 04を踏まえて(1回目)
- ベルトコンベアが交差するバグを忘れていた
- 9
- edge_lstに存在しない辺がある
- 直ったっぽい

## なんかメモ
- 各処理装置に最も近い分別機を1本につなぐ
- 最大でも20!通り
- 無理やんけ
- 10!までは行けるか
- もっと効率的な方法はあるかな

## 04提出(2回目)
- 提出前の相対スコア: 6,007,997,167
- 提出前順位: 709/834
- 提出日時: 2025-08-06 20:11:06
- 絶対スコア: 0(RE)
- 相対スコア: 7,068,841,111
- 順位: 581/834

## 04を踏まえて
- 単純に順位が低い
- 上に結構な人数の集団がいる
- 一旦サンプルを出そう

## サンプル提出
- 提出前の相対スコア: 7,068,841,111
- 提出前順位: 586
- 提出日時:2025-08-06 20:41:06
- 絶対スコア: 42157849698
- 相対スコア: 7,338,939,036
- 順位: 362/836

## サンプル提出を踏まえて
- 普通に上がった
- やはりあの集団はサンプル組
- どうする
- サンプル組200人以上いる

## 05の方針
- 04の分別器の種類を山登り
- 時間切れの際もサンプルを出力
- まずはスコア計算が必要
- Copilotによるとグラフ構築のアルゴリズムに問題があったらしい
- 修正してくれた?
- best_sortersを改良
- 山登りは実装できていないが、サンプルのほうがスコアがいい

## 06の方針
- 基本は05
- 大きく変える
- 平衡二分木
- 搬入口近くの10点から
- n層の場合は$2^n - 1$ 個の分別器が必要
- 焼きなましかな
- 木を作ったあとは理想の分別器を考え、最も近いものを当てはめる
- 分別器は焼きなましか
- 搬入口近くの31点から
- 厳しい
- 平衡二分木の高さは全探索なら2が限界?
- 2で考える
- 2ができたら3に挑戦
- ひとまず2
- N = 4(存在しない) だと5割くらいの精度はとれる

### 後で試す
- AIに平衡二分木を作らせる

## 06提出
- 提出前の相対スコア: 6,993,954,784
- 提出前順位: 432/912
- 提出日時: 2025-08-08 14:17:58	
- 絶対スコア: 39120148365
- 相対スコア: 7,477,135,837
- 順位: 308/912

## 06を踏まえて
- サンプル組のちょっと上にいる集団と同じ解法かと思っていたが、違った
- 彼らは1つの分別器で最適解を求めていたのかな

## 07の方針
- AIに平衡二分木を作らせる
- 素晴らしい
- GPT-5すごい
- 焼きなましなら圧倒的にC++有利だが、ひとまずPythonで提出

## 07提出(1回目, Python)
- 提出前の相対スコア: 5,936,205,110
- 提出前順位: 398/1035
- 提出日時: 5,936,205,110
- 絶対スコア: 0(WA, TLE)
- 相対スコア: 4,440,484,930 
- 順位:889/1035

## 07を踏まえて(1回目, Python)
- TLEはわかるが、WAは何
- 辺が交差していた
- C++に変換したら治るかな

(06を再提出)

## 07提出(2回目, C++)
- 提出前の相対スコア: 5,872,003,202
- 提出前順位: 402/1047
- 提出日時: 2025-08-10 16:46:35
- 絶対スコア: 0(WA, TLE)
- 相対スコア: 4,365,522,925
- 順位: 898/1047

## 07を踏まえて
- WAは増えた
- TLEは30ms